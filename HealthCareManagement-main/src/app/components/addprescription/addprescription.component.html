<app-header></app-header>

<div class="message" id="messagecard">
  <b>{{ message }}</b>
</div>

<div class="container" id="appointmentform">
  <h2 class="textual" style="color: darkgreen">
    <i class="fa fa-sticky-note-o"></i>
    <b>Hello Doctor, Add Your Prescriptions</b>
  </h2>

  <form #addprescriptionform="ngForm" (ngSubmit)="addPrescription()">
    <!-- Patient Name -->
    <div class="form-group">
      <label for="patientname">
        Patient Name :
        <b class="text-danger">*</b>
        <small style="color: gray; font-size: 12px">
          (choose from the dropdown)
        </small>
      </label>

      <select
        class="form-control"
        id="patientname"
        name="patientname"
        [(ngModel)]="prescriptionobj.patientname"
        #patientname="ngModel"
      >
        <option value="" selected>Select Patient</option>

        <option
          *ngFor="let patient of appointment | async"
          [value]="patient.patientname"
        >
          {{ patient.patientname }}
        </option>
      </select>
    </div>

    <!-- Doctor Name -->
    <div class="form-group">
      <label for="doctorname">
        Doctor Name :
        <b class="text-danger">*</b>
        <small style="color: gray; font-size: 12px">
          (please enter your name here)
        </small>
      </label>

      <input
        type="text"
        id="doctorname"
        class="form-control"
        placeholder="enter your name"
        name="doctorname"
        [(ngModel)]="prescriptionobj.doctorname"
        required
        #doctorname="ngModel"
        [class.is-invalid]="doctorname.invalid && doctorname.touched"
      />

      <small
        class="text-danger"
        [class.d-none]="doctorname.valid || doctorname.untouched"
      >
        <b>required field</b>
      </small>
    </div>

    <!-- Disease -->
    <div class="form-group">
      <label for="disease">
        Patient's Disease :
        <b class="text-danger">*</b>
      </label>

      <input
        type="text"
        id="disease"
        class="form-control"
        placeholder="enter patient disease"
        name="disease"
        [(ngModel)]="prescriptionobj.disease"
        required
        #disease="ngModel"
        [class.is-invalid]="disease.invalid && disease.touched"
      />

      <small
        class="text-danger"
        [class.d-none]="disease.valid || disease.untouched"
      >
        <b>required field</b>
      </small>
    </div>

    <!-- Age -->
    <div class="form-group">
      <label for="age">
        Patient Age :
        <b class="text-danger">*</b>
        <small style="color: gray; font-size: 12px">
          (please enter proper age of the patient)
        </small>
      </label>

      <input
        type="text"
        id="age"
        class="form-control"
        placeholder="enter your age"
        name="age"
        [(ngModel)]="prescriptionobj.age"
        required
        #age="ngModel"
        [class.is-invalid]="age.invalid && age.touched"
      />

      <small class="text-danger" [class.d-none]="age.valid || age.untouched">
        <b>required field</b>
      </small>
    </div>

    <!-- Gender -->
    <div class="form-group">
      <label for="gender">
        Patient Gender :
        <b class="text-danger">*</b>
      </label>

      <select
        class="form-control"
        id="gender"
        name="gender"
        [(ngModel)]="prescriptionobj.gender"
        #gender="ngModel"
      >
        <option value="">Select Gender</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Others">Others</option>
      </select>
    </div>

    <!-- Prescription -->
    <div class="form-group">
      <label for="prescription">
        Prescription :
        <b class="text-danger">*</b>
      </label>

      <textarea
        id="prescription"
        rows="5"
        class="form-control"
        placeholder="enter your prescription here"
        name="prescription"
        [(ngModel)]="prescriptionobj.prescription"
        required
        #prescription="ngModel"
        [class.is-invalid]="prescription.invalid && prescription.touched"
      >
      </textarea>

      <small
        class="text-danger"
        [class.d-none]="prescription.valid || prescription.untouched"
      >
        <b>required field</b>
      </small>
    </div>

    <!-- Submit -->
    <button
      style="margin-top: 15px"
      [disabled]="addprescriptionform.form.invalid"
      type="submit"
      class="btn registerbtn"
    >
      <i class="fa fa-plus"></i>
      Add your Prescription
    </button>
  </form>
</div>

<br /><br />

<app-footer></app-footer>
