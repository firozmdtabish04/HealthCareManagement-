<app-header></app-header>

<!-- PROFILE CARD -->
<div class="profile-row" id="profilecard">
  <div *ngFor="let user of profileDetails | async" class="blood-card">
    <!-- Male Image -->
    <img
      *ngIf="user.gender === 'Male' || user.gender === 'male'"
      class="bloodimg"
      src="assets/img/maleuser.png"
      width="120"
      height="120"
      alt="Male User Profile Image"
    />

    <!-- Female Image -->
    <img
      *ngIf="user.gender === 'Female' || user.gender === 'female'"
      class="bloodimg"
      src="assets/img/femaleuser.png"
      width="120"
      height="120"
      alt="Female User Profile Image"
    />

    <!-- USER DETAILS -->
    <div class="card-block">
      <div class="text">
        <b style="color: navy">User Name :</b>
        <b class="element">{{ user.username }}</b>
      </div>

      <div class="text">
        <b style="color: navy">Mobile Number :</b>
        <b class="element">{{ user.mobile }}</b>
      </div>

      <div class="text">
        <b style="color: navy">Gender :</b>
        <b class="element">{{ user.gender }}</b>
      </div>

      <div class="text">
        <b style="color: navy">Mail ID :</b>
        <b class="element">{{ user.email }}</b>
      </div>

      <div class="text">
        <b style="color: navy">Age :</b>
        <b class="element">{{ user.age }} years</b>
      </div>

      <!-- EDIT BUTTON -->
      <div class="btndiv">
        <button type="button" class="editbtn" (click)="editProfile()">
          <i class="fa fa-edit"></i>
          Edit
        </button>
      </div>

      <!-- SUCCESS MESSAGE -->
      <small *ngIf="temp === true" style="color: green">
        <b>Profile Updated Successfully !!!</b>
      </small>
    </div>
  </div>
</div>

<!-- PROFILE UPDATE FORM -->
<div class="profile-container" id="profileform">
  <h3 class="textual">Update User Profile</h3>

  <form #Updateform="ngForm" (ngSubmit)="updateUserProfile()">
    <small *ngIf="temp === false" style="color: navy">
      <b>Dear {{ loggedUser }}, update your profile here</b>
    </small>

    <small *ngIf="temp === true" style="color: green">
      <b>Profile Updated Successfully !!!</b>
    </small>

    <!-- EMAIL -->
    <div class="form-group">
      <label for="userEmail">
        Email :
        <b class="text-danger">*</b>
      </label>

      <input
        type="email"
        id="userEmail"
        class="form-control"
        name="email"
        [(ngModel)]="user.email"
        required
        pattern="^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$"
        #email="ngModel"
      />

      <small class="text-danger" *ngIf="email.errors?.pattern && email.touched">
        Invalid email Id
      </small>
    </div>

    <!-- USERNAME -->
    <div class="form-group">
      <label for="userName">
        User Name :
        <b class="text-danger">*</b>
      </label>

      <input
        type="text"
        id="userName"
        class="form-control"
        name="username"
        [(ngModel)]="user.username"
        required
      />
    </div>

    <!-- GENDER -->
    <div class="form-group">
      <label for="userGender">
        Gender :
        <b class="text-danger">*</b>
      </label>

      <select
        id="userGender"
        class="form-control"
        name="gender"
        [(ngModel)]="user.gender"
        required
      >
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Others">Others</option>
      </select>
    </div>

    <!-- AGE -->
    <div class="form-group">
      <label for="userAge">
        Age :
        <b class="text-danger">*</b>
      </label>

      <input
        type="number"
        id="userAge"
        class="form-control"
        name="age"
        [(ngModel)]="user.age"
        required
      />
    </div>

    <!-- MOBILE -->
    <div class="form-group">
      <label for="userMobile">
        Mobile Number :
        <b class="text-danger">*</b>
      </label>

      <input
        type="tel"
        id="userMobile"
        class="form-control"
        name="mobile"
        [(ngModel)]="user.mobile"
        required
      />
    </div>

    <!-- PASSWORD -->
    <div class="form-group">
      <label for="userPassword">
        Password :
        <b class="text-danger">*</b>
      </label>

      <input
        type="password"
        id="userPassword"
        class="form-control"
        name="pwd"
        [(ngModel)]="user.password"
        required
      />
    </div>

    <!-- SUBMIT -->
    <button
      type="submit"
      class="btn registerbtn"
      [disabled]="Updateform.invalid"
    >
      Update
    </button>
  </form>
</div>

<app-footer></app-footer>
